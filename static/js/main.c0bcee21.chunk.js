(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(47),r=a.n(s),o=a(16),m=a(6),u=a(5);function l(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),m=Object(u.a)(r,2),l=m[0],i=m[1];return c.a.createElement("form",{className:"form"},c.a.createElement("input",{type:"text",className:"name",placeholder:"Write your name...",onChange:function(e){return s(e.target.value)}}),c.a.createElement("input",{type:"text",className:"room",placeholder:"Write room name...",onChange:function(e){return i(e.target.value)}}),c.a.createElement(o.b,{onClick:function(e){a&&l||e.preventDefault()},to:"/chat?user=".concat(a,"&room=").concat(l)},c.a.createElement("button",{type:"submit",className:"btn"},"Join Chat")))}var i,p=a(29),f=a(50),h=a.n(f),E=a(51),g=a.n(E),v=function(e){var t=e.roomUsers,a=e.room;return c.a.createElement("div",{className:"chat__users"},c.a.createElement("h3",{className:"chat__room-name"},a),c.a.createElement("div",{className:"chat__user-list"},t.map((function(e,t){return c.a.createElement("h5",{key:t,className:"chat__user"},e.name)}))))},b=function(e){var t=e.message,a=e.sendMessage,n=e.setMessage,s=e.sendMessageBtn;return c.a.createElement("div",{className:"message-input"},c.a.createElement("input",{type:"text",className:"message-input__input",placeholder:"Type your message...",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return a(e)}}),c.a.createElement("button",{className:"message-input__btn",onClick:function(e){return s(e)}},"Send"))},d=a(52),j=a.n(d),_=function(e){var t=e.username,a=e.text,n=e.time,s=e.index;return c.a.createElement("div",{key:s,className:"chat__message"},c.a.createElement("span",null," ",t," "),c.a.createElement("span",{className:"chat__text"},j.a.emojify(a),c.a.createElement("span",{className:"chat__time"},n)))},N=function(e){var t=e.messages;return c.a.createElement("div",{className:"messages"},t.map((function(e,t){var a=e.username,n=e.text,s=e.time;return c.a.createElement(_,{username:a,text:n,time:s,index:t})})))};function O(e){var t=e.location,a=Object(n.useState)(""),s=Object(u.a)(a,2),r=(s[0],s[1]),o=Object(n.useState)(""),m=Object(u.a)(o,2),l=m[0],f=m[1],E=Object(n.useState)(""),d=Object(u.a)(E,2),j=d[0],_=d[1],O=Object(n.useState)([]),y=Object(u.a)(O,2),x=y[0],k=y[1],S=Object(n.useState)([]),C=Object(u.a)(S,2),M=C[0],w=C[1];return Object(n.useEffect)((function(){var e=h.a.parse(t.search),a=e.room,n=e.user;return r(n),f(a),(i=g()("https://chat-app-rjs.herokuapp.com/")).emit("join-room",{user:n,room:a},(function(){})),function(){i.emit("disconnect"),i.off()}}),[t]),Object(n.useEffect)((function(){i.on("newUser",(function(e){var t=[].concat(Object(p.a)(x),[e]);k(t)})),i.on("roomUsers",(function(e){var t=e.room,a=e.users;f(t),w(a)})),i.on("chat-message",(function(e){var t=[].concat(Object(p.a)(x),[e]);k(t)}))}),[x]),c.a.createElement("div",{className:"chat-wrapper"},c.a.createElement(v,{roomUsers:M,room:l}),c.a.createElement("div",{className:"chat__messages"},c.a.createElement(N,{messages:x}),c.a.createElement(b,{message:j,sendMessage:function(e){"Enter"===e.key&&(e.preventDefault(),i.emit("chat-message",j),console.log(j),_(""))},setMessage:_,sendMessageBtn:function(e){console.log(j),i.emit("chat-message",j),_("")}})))}a(100);function y(){return c.a.createElement("div",{className:"container"},c.a.createElement(o.a,null,c.a.createElement(m.a,{path:"/",exact:!0,component:l}),c.a.createElement(m.a,{path:"/chat",component:O})))}r.a.render(c.a.createElement(y,null),document.getElementById("root"))},53:function(e,t,a){e.exports=a(101)},97:function(e,t){}},[[53,1,2]]]);
//# sourceMappingURL=main.c0bcee21.chunk.js.map